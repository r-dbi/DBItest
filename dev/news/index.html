<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • DBItest</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">DBItest</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.8.2.9001</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/DBItest.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-dbi/DBItest/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/r-dbi/DBItest/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.8.2.9001" id="dbitest-1829001-2025-05-04">DBItest 1.8.2.9001 (2025-05-04)<a class="anchor" aria-label="anchor" href="#dbitest-1829001-2025-05-04"></a></h2>
<div class="section level3">
<h3 id="features-1-8-2-9001">Features<a class="anchor" aria-label="anchor" href="#features-1-8-2-9001"></a></h3>
<ul><li><p>Reinstate lint infrastructure as GHA (<a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>, <a href="https://github.com/r-dbi/DBItest/issues/396" class="external-link">#396</a>).</p></li>
<li><p>Assign result in <code>send_query_stale_warning</code> to stabilize test (<a href="https://github.com/detule" class="external-link">@detule</a>, <a href="https://github.com/r-dbi/DBItest/issues/373" class="external-link">#373</a>).</p></li>
<li><p>Improve failure mode of missing method test (<a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>, <a href="https://github.com/r-dbi/DBItest/issues/405" class="external-link">#405</a>).</p></li>
<li><p>Use <code>trivial_query()</code> by default in <code>create_table_as()</code> (<a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>, <a href="https://github.com/r-dbi/DBItest/issues/410" class="external-link">#410</a>, <a href="https://github.com/r-dbi/DBItest/issues/420" class="external-link">#420</a>).</p></li>
<li><p>Test object returned by <code>dbUnquoteIdentifier()</code> is of class <code>Id</code>.</p></li>
<li><p>Add an extra test for sanity in spec-sql-write-table (<a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>, <a href="https://github.com/r-dbi/DBItest/issues/411" class="external-link">#411</a>).</p></li>
<li><p>New <code>tweaks(create_table_empty = )</code> tweak (<a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>, <a href="https://github.com/r-dbi/DBItest/issues/406" class="external-link">#406</a>, <a href="https://github.com/r-dbi/DBItest/issues/408" class="external-link">#408</a>).</p></li>
<li><p>Clarify warning message for lack of <code>skip =</code> hit among <code>spec_all</code> (<a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>, <a href="https://github.com/r-dbi/DBItest/issues/398" class="external-link">#398</a>).</p></li>
</ul></div>
<div class="section level3">
<h3 id="chore-1-8-2-9001">Chore<a class="anchor" aria-label="anchor" href="#chore-1-8-2-9001"></a></h3>
<ul><li><p>Use purrr (<a href="https://github.com/r-dbi/DBItest/issues/421" class="external-link">#421</a>).</p></li>
<li><p>IDE.</p></li>
<li><p>Add build-time dependency vctrs (<a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>, <a href="https://github.com/r-dbi/DBItest/issues/394" class="external-link">#394</a>, <a href="https://github.com/r-dbi/DBItest/issues/395" class="external-link">#395</a>).</p></li>
</ul></div>
<div class="section level3">
<h3 id="continuous-integration-1-8-2-9001">Continuous integration<a class="anchor" aria-label="anchor" href="#continuous-integration-1-8-2-9001"></a></h3>
<ul><li><p>Need to install R.</p></li>
<li><p>Run on noble (<a href="https://github.com/r-dbi/DBItest/issues/425" class="external-link">#425</a>).</p></li>
<li><p>Import from actions-sync, check carefully (<a href="https://github.com/r-dbi/DBItest/issues/423" class="external-link">#423</a>).</p></li>
<li><p>Import from actions-sync, check carefully (<a href="https://github.com/r-dbi/DBItest/issues/419" class="external-link">#419</a>).</p></li>
<li><p>Import from actions-sync, check carefully (<a href="https://github.com/r-dbi/DBItest/issues/418" class="external-link">#418</a>).</p></li>
<li><p>Import from actions-sync, check carefully (<a href="https://github.com/r-dbi/DBItest/issues/417" class="external-link">#417</a>).</p></li>
<li><p>Import from actions-sync, check carefully (<a href="https://github.com/r-dbi/DBItest/issues/416" class="external-link">#416</a>).</p></li>
<li><p>Import from actions-sync, check carefully (<a href="https://github.com/r-dbi/DBItest/issues/415" class="external-link">#415</a>).</p></li>
<li><p>Import from actions-sync, check carefully (<a href="https://github.com/r-dbi/DBItest/issues/414" class="external-link">#414</a>).</p></li>
<li><p>Import from actions-sync, check carefully (<a href="https://github.com/r-dbi/DBItest/issues/413" class="external-link">#413</a>).</p></li>
</ul></div>
<div class="section level3">
<h3 id="documentation-1-8-2-9001">Documentation<a class="anchor" aria-label="anchor" href="#documentation-1-8-2-9001"></a></h3>
<ul><li><p>Fix bad links and a typo.</p></li>
<li><p>Improve wording of <code>test_all(skip = )</code> description (<a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>, <a href="https://github.com/r-dbi/DBItest/issues/397" class="external-link">#397</a>, <a href="https://github.com/r-dbi/DBItest/issues/399" class="external-link">#399</a>).</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.8.2.9000" id="dbitest-1829000-2024-12-09">DBItest 1.8.2.9000 (2024-12-09)<a class="anchor" aria-label="anchor" href="#dbitest-1829000-2024-12-09"></a></h2>
<div class="section level3">
<h3 id="continuous-integration-1-8-2-9000">Continuous integration<a class="anchor" aria-label="anchor" href="#continuous-integration-1-8-2-9000"></a></h3>
<ul><li>Import from actions-sync, check carefully (<a href="https://github.com/r-dbi/DBItest/issues/392" class="external-link">#392</a>).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.8.2" id="dbitest-182-2024-12-07">DBItest 1.8.2 (2024-12-07)<a class="anchor" aria-label="anchor" href="#dbitest-182-2024-12-07"></a></h2>
<div class="section level3">
<h3 id="chore-1-8-2">Chore<a class="anchor" aria-label="anchor" href="#chore-1-8-2"></a></h3>
<ul><li><p>More explicit message on constructive errors.</p></li>
<li><p>Bump DBI dependency.</p></li>
</ul></div>
<div class="section level3">
<h3 id="documentation-1-8-2">Documentation<a class="anchor" aria-label="anchor" href="#documentation-1-8-2"></a></h3>
<ul><li><p>Set BS version explicitly for now (<a href="https://github.com/maelle" class="external-link">@maelle</a>, <a href="https://github.com/r-dbi/DBItest/issues/370" class="external-link">#370</a>).</p></li>
<li><p>Add package to <code>\link{}</code> targets.</p></li>
</ul></div>
<div class="section level3">
<h3 id="testing-1-8-2">Testing<a class="anchor" aria-label="anchor" href="#testing-1-8-2"></a></h3>
<ul><li>Adapt tests to updates of the constructive package.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.8.1" id="dbitest-181-2024-03-31">DBItest 1.8.1 (2024-03-31)<a class="anchor" aria-label="anchor" href="#dbitest-181-2024-03-31"></a></h2>
<div class="section level3">
<h3 id="features-1-8-1">Features<a class="anchor" aria-label="anchor" href="#features-1-8-1"></a></h3>
<ul><li><p>Allow multiple warnings in disconnect tests (<a href="https://github.com/r-dbi/DBItest/issues/363" class="external-link">#363</a>).</p></li>
<li><p>Fix specification for Arrow tests (<a href="https://github.com/r-dbi/DBItest/issues/357" class="external-link">#357</a>).</p></li>
<li><p>Show DBItest function in backtrace (<a href="https://github.com/r-dbi/DBItest/issues/349" class="external-link">#349</a>, <a href="https://github.com/r-dbi/DBItest/issues/354" class="external-link">#354</a>).</p></li>
<li><p>Specify <code>value</code> argument for <code>dbCreateTable()</code> and <code>dbCreateTableArrow()</code> (<a href="https://github.com/r-dbi/DBItest/issues/345" class="external-link">#345</a>).</p></li>
<li><p>Enable two tests for <code>dbGetQueryArrow()</code> (<a href="https://github.com/r-dbi/DBItest/issues/342" class="external-link">#342</a>).</p></li>
<li><p>Relax <code>dbListObjects()</code> spec (<a href="https://github.com/r-dbi/DBItest/issues/339" class="external-link">#339</a>, <a href="https://github.com/r-dbi/DBItest/issues/341" class="external-link">#341</a>).</p></li>
</ul></div>
<div class="section level3">
<h3 id="chore-1-8-1">Chore<a class="anchor" aria-label="anchor" href="#chore-1-8-1"></a></h3>
<ul><li><p>Avoid dplyr (<a href="https://github.com/r-dbi/DBItest/issues/364" class="external-link">#364</a>).</p></li>
<li><p>Remove <code>.dots</code> argument to <code>test_select_with_null()</code> (<a href="https://github.com/r-dbi/DBItest/issues/362" class="external-link">#362</a>).</p></li>
<li><p>Prefer <code>map()</code> over <code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply()</a></code> (<a href="https://github.com/r-dbi/DBItest/issues/361" class="external-link">#361</a>) and <code>map_*()</code> over <code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">vapply()</a></code> (<a href="https://github.com/r-dbi/DBItest/issues/356" class="external-link">#356</a>).</p></li>
<li><p>Bump DBI dependency to fix tests (<a href="https://github.com/r-dbi/DBItest/issues/359" class="external-link">#359</a>).</p></li>
<li><p>Document sources for autogenerated files (<a href="https://github.com/r-dbi/DBItest/issues/353" class="external-link">#353</a>), add comments to generated code (<a href="https://github.com/r-dbi/DBItest/issues/358" class="external-link">#358</a>).</p></li>
<li><p>Make test names unique, with a numeric suffix (<a href="https://github.com/r-dbi/DBItest/issues/355" class="external-link">#355</a>).</p></li>
<li><p>Align with RSQLite (<a href="https://github.com/r-dbi/DBItest/issues/351" class="external-link">#351</a>).</p></li>
<li><p>Replace unconditional skip with versioned skip (<a href="https://github.com/r-dbi/DBItest/issues/347" class="external-link">#347</a>).</p></li>
<li><p>Consistent use of <code>skip_if_not_dbitest()</code> (<a href="https://github.com/r-dbi/DBItest/issues/346" class="external-link">#346</a>).</p></li>
</ul></div>
<div class="section level3">
<h3 id="continuous-integration-1-8-1">Continuous integration<a class="anchor" aria-label="anchor" href="#continuous-integration-1-8-1"></a></h3>
<ul><li>Modernize backends checks.</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-1-8-1">Documentation<a class="anchor" aria-label="anchor" href="#documentation-1-8-1"></a></h3>
<ul><li><p>Use dbitemplate (<a href="https://github.com/maelle" class="external-link">@maelle</a>, <a href="https://github.com/r-dbi/DBItest/issues/360" class="external-link">#360</a>).</p></li>
<li><p>Mention <code>dbBindArrow()</code> in documentation (<a href="https://github.com/r-dbi/DBItest/issues/350" class="external-link">#350</a>).</p></li>
<li><p>Minor specification fixes (<a href="https://github.com/r-dbi/DBItest/issues/344" class="external-link">#344</a>).</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.8.0" id="dbitest-180-2023-12-21">DBItest 1.8.0 (2023-12-21)<a class="anchor" aria-label="anchor" href="#dbitest-180-2023-12-21"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-1-8-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-8-0"></a></h3>
<ul><li>Fix <code>create_roundtrip_keywords</code> and <code>create_roundtrip_quotes</code> tests (<a href="https://github.com/r-dbi/DBItest/issues/283" class="external-link">#283</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="features-1-8-0">Features<a class="anchor" aria-label="anchor" href="#features-1-8-0"></a></h3>
<ul><li><p>Relax specification of <code>dbUnquoteIdentifier()</code>, character vectors are now allowed too.</p></li>
<li><p>Specify <code>dbFetchChunk()</code> (<a href="https://github.com/r-dbi/DBItest/issues/331" class="external-link">#331</a>), <code>dbFetchArrowChunk()</code> (<a href="https://github.com/r-dbi/DBItest/issues/301" class="external-link">#301</a>) and <code>dbBindArrow()</code> (<a href="https://github.com/r-dbi/DBItest/issues/328" class="external-link">#328</a>).</p></li>
<li><p>Inline all tests for <code>dbBind()</code> (<a href="https://github.com/r-dbi/DBItest/issues/326" class="external-link">#326</a>).</p></li>
<li><p>Require support for <code>dbFetch(n = NA)</code> (<a href="https://github.com/r-dbi/DBItest/issues/296" class="external-link">#296</a>, <a href="https://github.com/r-dbi/DBItest/issues/316" class="external-link">#316</a>).</p></li>
<li><p>New <code>allow_na_rows_affected</code> tweak to support <code>NA</code> values returned from <code>dbGetRowsAffected()</code> (<a href="https://github.com/r-dbi/DBItest/issues/297" class="external-link">#297</a>, <a href="https://github.com/r-dbi/DBItest/issues/312" class="external-link">#312</a>).</p></li>
<li><p>Switch to nanoarrow (<a href="https://github.com/r-dbi/DBItest/issues/291" class="external-link">#291</a>).</p></li>
<li><p>Basic tests for the new <code>db*Arrow()</code> interface (<a href="https://github.com/r-dbi/DBItest/issues/287" class="external-link">#287</a>).</p></li>
<li><p>New <code>skip_if_not_dbitest()</code> (<a href="https://github.com/r-dbi/DBItest/issues/289" class="external-link">#289</a>).</p></li>
<li><p><code>reexport</code> test uses interface for dev DBI if the backend is compatible with DBItest &gt; 1.7.3.</p></li>
<li><p>Slightly better code generated for <code><a href="../reference/tweaks.html">tweaks()</a></code> (<a href="https://github.com/r-dbi/DBItest/issues/313" class="external-link">#313</a>).</p></li>
<li><p>Remove interface to dblog in the CRAN version.</p></li>
</ul></div>
<div class="section level3">
<h3 id="cicd-1-8-0">CI/CD<a class="anchor" aria-label="anchor" href="#cicd-1-8-0"></a></h3>
<ul><li><p>Add adbi to check matrix (<a href="https://github.com/r-dbi/DBItest/issues/314" class="external-link">#314</a>).</p></li>
<li><p>Reenable ODBC MySQL tests (<a href="https://github.com/r-dbi/DBItest/issues/288" class="external-link">#288</a>).</p></li>
<li><p>Tweak <code>read_table_missing</code> test (<a href="https://github.com/r-dbi/DBItest/issues/285" class="external-link">#285</a>).</p></li>
</ul></div>
<div class="section level3">
<h3 id="chore-1-8-0">Chore<a class="anchor" aria-label="anchor" href="#chore-1-8-0"></a></h3>
<ul><li><p>Remove rlang qualification (<a href="https://github.com/r-dbi/DBItest/issues/332" class="external-link">#332</a>).</p></li>
<li><p>No longer need <code><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame()</a></code> twice for Arrow (<a href="https://github.com/r-dbi/DBItest/issues/302" class="external-link">#302</a>, <a href="https://github.com/r-dbi/DBItest/issues/330" class="external-link">#330</a>).</p></li>
<li><p>Consistent use of <code>skip_if_not_dbitest()</code> (<a href="https://github.com/r-dbi/DBItest/issues/317" class="external-link">#317</a>).</p></li>
<li><p>Disable Arrow skips (<a href="https://github.com/r-dbi/DBItest/issues/303" class="external-link">#303</a>).</p></li>
<li><p>Modernize <code>sql_union()</code> (<a href="https://github.com/r-dbi/DBItest/issues/304" class="external-link">#304</a>).</p></li>
<li><p>Make better use of <code>trivial_df()</code> (<a href="https://github.com/r-dbi/DBItest/issues/284" class="external-link">#284</a>).</p></li>
</ul></div>
<div class="section level3">
<h3 id="documentation-1-8-0">Documentation<a class="anchor" aria-label="anchor" href="#documentation-1-8-0"></a></h3>
<ul><li>Avoid error if RSQLite is not installed.</li>
</ul></div>
<div class="section level3">
<h3 id="testing-1-8-0">Testing<a class="anchor" aria-label="anchor" href="#testing-1-8-0"></a></h3>
<ul><li><p>Run DBItest for SQLite as part of the checks here (<a href="https://github.com/r-dbi/DBItest/issues/318" class="external-link">#318</a>).</p></li>
<li><p>Enable remaining Arrow tests (<a href="https://github.com/r-dbi/DBItest/issues/307" class="external-link">#307</a>).</p></li>
<li><p>Fix checks without suggested packages (<a href="https://github.com/r-dbi/DBItest/issues/300" class="external-link">#300</a>).</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.7.3" id="dbitest-173-2022-10-18">DBItest 1.7.3 (2022-10-18)<a class="anchor" aria-label="anchor" href="#dbitest-173-2022-10-18"></a></h2>
<div class="section level3">
<h3 id="features-1-7-3">Features<a class="anchor" aria-label="anchor" href="#features-1-7-3"></a></h3>
<ul><li><p>Use and enable compatibility with testthat edition 3 (<a href="https://github.com/r-dbi/DBItest/issues/263" class="external-link">#263</a>, <a href="https://github.com/r-dbi/DBItest/issues/268" class="external-link">#268</a>). Complete removal of <code>expect_is()</code> (<a href="https://github.com/MichaelChirico" class="external-link">@MichaelChirico</a>, <a href="https://github.com/r-dbi/DBItest/issues/257" class="external-link">#257</a>).</p></li>
<li><p>Adapt to new Arrow DBI generics (<a href="https://github.com/r-dbi/DBItest/issues/265" class="external-link">#265</a>).</p></li>
<li><p>Better stack traces for visibility tests.</p></li>
<li><p><code>dbQuoteIdentifier()</code> roundtrip is tested for tables only (<a href="https://github.com/dpprdan" class="external-link">@dpprdan</a>, <a href="https://github.com/r-dbi/DBItest/issues/256" class="external-link">#256</a>).</p></li>
<li><p><code><a href="../reference/test_all.html">test_some()</a></code> also tests a test if it would normally be skipped.</p></li>
</ul></div>
<div class="section level3">
<h3 id="chore-1-7-3">Chore<a class="anchor" aria-label="anchor" href="#chore-1-7-3"></a></h3>
<ul><li><p>Bump minimum DBI version to 1.1.3.</p></li>
<li><p>Refactor DBI tests in preparation for inlining them.</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-1-7-3">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-7-3"></a></h3>
<ul><li>Correct cleanup even if <code>dbIsValid()</code> is not implemented.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.7.2" id="dbitest-172-2021-12-17">DBItest 1.7.2 (2021-12-17)<a class="anchor" aria-label="anchor" href="#dbitest-172-2021-12-17"></a></h2>
<div class="section level3">
<h3 id="features-1-7-2">Features<a class="anchor" aria-label="anchor" href="#features-1-7-2"></a></h3>
<ul><li>
<code><a href="../reference/tweaks.html">tweaks()</a></code> gains <code>dbitest_version</code> argument to support targeting a specific version of the DBItest package. The default is 1.7.1 (<a href="https://github.com/r-dbi/DBItest/issues/236" class="external-link">#236</a>).</li>
<li>Reuse database connection for most tests (<a href="https://github.com/r-dbi/DBItest/issues/245" class="external-link">#245</a>).</li>
<li>New <code>roundtrip_date_extended</code>, <code>roundtrip_timestamp_extended</code>, <code>append_roundtrip_date_extended</code> and <code>append_roundtrip_timestamp_extended</code> test dates between 1800 and 2999 (<a href="https://github.com/r-dbi/DBItest/issues/148" class="external-link">#148</a>, <a href="https://github.com/r-dbi/DBItest/issues/249" class="external-link">#249</a>).</li>
<li>New <code>quote_literal_empty</code> test (<a href="https://github.com/r-dbi/DBItest/issues/248" class="external-link">#248</a>).</li>
<li>New <code>bind_character_escape</code> test for binding special characters (<a href="https://github.com/r-dbi/DBItest/issues/242" class="external-link">#242</a>).</li>
<li>New <code>bind_time_minutes_integer</code> test for integer durations.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-1-7-2">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-7-2"></a></h3>
<ul><li>All column names are specified using lowercase on input, for compatibility with Redshift (<a href="https://github.com/r-dbi/DBItest/issues/234" class="external-link">#234</a>).</li>
<li>
<code>column_info_consistent</code> no longer tests mangling of column names (<a href="https://github.com/r-dbi/DBItest/issues/181" class="external-link">#181</a>).</li>
<li>
<code>spec_sql_append_table</code> test: Remove bad argument.</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-1-7-2">Documentation<a class="anchor" aria-label="anchor" href="#documentation-1-7-2"></a></h3>
<ul><li>Improve documentation: list <code>spec_</code> objects in pkgdown help index, add cross references (<a href="https://github.com/r-dbi/DBItest/issues/128" class="external-link">#128</a>).</li>
<li>Add specification for <code>value</code> argument to <code><a href="https://dbi.r-dbi.org/reference/dbWriteTable.html" class="external-link">DBI::dbWriteTable()</a></code> (<a href="https://github.com/r-dbi/DBItest/issues/235" class="external-link">#235</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="internal-1-7-2">Internal<a class="anchor" aria-label="anchor" href="#internal-1-7-2"></a></h3>
<ul><li>Replace internal <code>with_result()</code>, <code>with_remove_test_tables()</code> and <code>with_rollback_on_error()</code> for better error traces (<a href="https://github.com/r-dbi/DBItest/issues/184" class="external-link">#184</a>, <a href="https://github.com/r-dbi/DBItest/issues/250" class="external-link">#250</a>, <a href="https://github.com/r-dbi/DBItest/issues/251" class="external-link">#251</a>, <a href="https://github.com/r-dbi/DBItest/issues/253" class="external-link">#253</a>).</li>
<li>Use <code><a href="https://allisonhorst.github.io/palmerpenguins/reference/penguins.html" class="external-link">palmerpenguins::penguins</a></code> instead of <code>iris</code> (<a href="https://github.com/r-dbi/DBItest/issues/241" class="external-link">#241</a>).</li>
<li>Fix MySQL ODBC test on GitHub Actions (<a href="https://github.com/r-dbi/DBItest/issues/237" class="external-link">#237</a>).</li>
<li>Improve testthat 3e compatibility: remove <code><a href="https://testthat.r-lib.org/reference/expect_is.html" class="external-link">testthat::expect_is()</a></code> and <code><a href="https://testthat.r-lib.org/reference/expect_that.html" class="external-link">testthat::expect_that()</a></code> from tests (<a href="https://github.com/r-dbi/DBItest/issues/231" class="external-link">#231</a>, <a href="https://github.com/michaelquinn32" class="external-link">@michaelquinn32</a>).</li>
<li>Decompose query used for testing <code>dbBind()</code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.7.1" id="dbitest-171-2021-07-30">DBItest 1.7.1 (2021-07-30)<a class="anchor" aria-label="anchor" href="#dbitest-171-2021-07-30"></a></h2>
<div class="section level3">
<h3 id="features-1-7-1">Features<a class="anchor" aria-label="anchor" href="#features-1-7-1"></a></h3>
<ul><li>Many tests now emit simpler stack traces, because the connection is opened by the test driver and not by the test itself (<a href="https://github.com/r-dbi/DBItest/issues/187" class="external-link">#187</a>). Reduce usage of <code>with_remove_test_table()</code> for better stack traces on error (<a href="https://github.com/r-dbi/DBItest/issues/196" class="external-link">#196</a>). Remove <code>with_*connection()</code> (<a href="https://github.com/r-dbi/DBItest/issues/193" class="external-link">#193</a>).</li>
<li>
<code><a href="../reference/test_all.html">test_some()</a></code> shows DBI code via dblog (<a href="https://github.com/r-dbi/DBItest/issues/217" class="external-link">#217</a>) if <code>dblog = TRUE</code> (<a href="https://github.com/r-dbi/DBItest/issues/226" class="external-link">#226</a>).</li>
<li>New <code>"bind_date_integer"</code>, <code>"bind_time_seconds"</code> and <code>"bind_time_hours"</code> tests (<a href="https://github.com/r-dbi/DBItest/issues/218" class="external-link">#218</a>).</li>
<li>New <code>create_table_as</code> tweak (<a href="https://github.com/r-dbi/DBItest/issues/131" class="external-link">#131</a>).</li>
<li>
<code>"roundtrip_time"</code> and <code>"append_roundtrip_time"</code> tests now also test values of class <code>"difftime"</code> with units other than <code>"secs"</code> (<a href="https://github.com/r-dbi/DBItest/issues/199" class="external-link">#199</a>).</li>
<li>All tables created by the tests have the <code>"dbit"</code> prefix. Almost all tests now use random table names to avoid collisions and unrelated test failures (<a href="https://github.com/r-dbi/DBItest/issues/197" class="external-link">#197</a>).</li>
<li>
<code>"roundtrip_timestamp"</code> tests now accept a time zone set by the database backend (<a href="https://github.com/r-dbi/DBItest/issues/178" class="external-link">#178</a>, <a href="https://github.com/r-dbi/DBItest/issues/198" class="external-link">#198</a>).</li>
<li>Support more than one class of each type in DBI backend packages.</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-1-7-1">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-7-1"></a></h3>
<ul><li>Fix input dataset in <code>"overwrite_table_missing"</code> test (<a href="https://github.com/r-dbi/DBItest/issues/210" class="external-link">#210</a>, <a href="https://github.com/martinstuder" class="external-link">@martinstuder</a>).</li>
<li>Use original test name to decide if a test is skipped (<a href="https://github.com/r-dbi/DBItest/issues/225" class="external-link">#225</a>).</li>
<li>Fix reexport test: skip if package is not installed, remove checks for deprecated functions and functions not reexported (<a href="https://github.com/r-dbi/DBItest/issues/203" class="external-link">#203</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="internal-1-7-1">Internal<a class="anchor" aria-label="anchor" href="#internal-1-7-1"></a></h3>
<ul><li>Requires DBI 1.1.1.</li>
<li>Test odbc as part of the backend tests (<a href="https://github.com/r-dbi/DBItest/issues/228" class="external-link">#228</a>).</li>
<li>Dynamic build matrix for backends (<a href="https://github.com/r-dbi/DBItest/issues/221" class="external-link">#221</a>).</li>
<li>Compatibility with testthat 3.0.0 (<a href="https://github.com/r-dbi/DBItest/issues/207" class="external-link">#207</a>).</li>
<li>Switch to GitHub Actions (<a href="https://github.com/r-dbi/DBItest/issues/201" class="external-link">#201</a>).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.7.0" id="dbitest-170-2019-12-16">DBItest 1.7.0 (2019-12-16)<a class="anchor" aria-label="anchor" href="#dbitest-170-2019-12-16"></a></h2>
<div class="section level3">
<h3 id="specifications-1-7-0">Specifications<a class="anchor" aria-label="anchor" href="#specifications-1-7-0"></a></h3>
<ul><li>Specify tests for <code>dbGetInfo()</code>.</li>
<li>Specify <code>immediate</code> argument (r-dbi/DBI#268).</li>
<li>Specify <code>dbCreateTable()</code> and <code>dbAppendTable()</code> (<a href="https://github.com/r-dbi/DBItest/issues/169" class="external-link">#169</a>).</li>
<li>New <code>unquote_identifier_table_schema</code> test: Identifiers of the form <code>table.schema</code> can be processed with <code>dbUnquoteIdentifier()</code>.</li>
<li>Fix <code>has_completed_statement</code> test (<a href="https://github.com/r-dbi/DBItest/issues/176" class="external-link">#176</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="testing-infrastructure-1-7-0">Testing infrastructure<a class="anchor" aria-label="anchor" href="#testing-infrastructure-1-7-0"></a></h3>
<ul><li>Document how to run tests externally and how to debug tests (<a href="https://github.com/r-dbi/DBItest/issues/165" class="external-link">#165</a>).</li>
<li>
<code>test_*()</code> gain new <code>run_only = NULL</code> argument that allow restricting the tests to be run with a positive match. <code><a href="../reference/test_all.html">test_some()</a></code> uses <code>run_only</code> instead of constructing a regular expression with negative lookahead. This helps troubleshooting a single test with <code>testthat::set_reporter(DebugReporter$new())</code> .</li>
<li>
<code><a href="../reference/context.html">make_context()</a></code> gains <code>default_skip</code> argument and uses the <code>DBIConnector</code> class.</li>
<li>Support <code>NULL</code> default value in driver constructor (<a href="https://github.com/r-dbi/DBItest/issues/171" class="external-link">#171</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="internal-1-7-0">Internal<a class="anchor" aria-label="anchor" href="#internal-1-7-0"></a></h3>
<ul><li>Fulfill CII badge requirements (<a href="https://github.com/r-dbi/DBItest/issues/179" class="external-link">#179</a>, <a href="https://github.com/TSchiefer" class="external-link">@TSchiefer</a>).</li>
<li>Use debugme.</li>
<li>Require R 3.2.</li>
<li>Avoid subsetting vectors out of bounds, for consistency with vctrs.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.6.0" id="dbitest-160-2018-05-03">DBItest 1.6.0 (2018-05-03)<a class="anchor" aria-label="anchor" href="#dbitest-160-2018-05-03"></a></h2>
<div class="section level3">
<h3 id="new-checks-1-6-0">New checks<a class="anchor" aria-label="anchor" href="#new-checks-1-6-0"></a></h3>
<ul><li>Now checking that <code>Id()</code> is reexported.</li>
<li>Support <code>temporary</code> argument in <code>dbRemoveTable()</code> (default: <code>FALSE</code>) (r-dbi/DBI#141).</li>
<li>Added specification for the behavior in case of duplicate column names (<a href="https://github.com/r-dbi/DBItest/issues/137" class="external-link">#137</a>).</li>
<li>The <code>bigint</code> argument to <code>dbConnect()</code> is now specified. Accepts <code>"integer64"</code>, <code>"integer"</code>, <code>"numeric"</code> and <code>"character"</code>, large integers are returned as values of that type (<a href="https://github.com/r-dbi/DBItest/issues/133" class="external-link">#133</a>).</li>
<li>Add specification for partially filled <code>field.types</code> argument.</li>
<li>Specify <code>dbRemoveTable(fail_if_missing = FALSE)</code> (r-dbi/DBI#197).</li>
<li>Add specification for <code>dbColumnInfo()</code> (r-dbi/DBI#75).</li>
<li>Add specification for <code>dbListFields()</code> (r-dbi/DBI#75).</li>
<li>Test that named parameters are actually matched by name in <code>dbBind()</code>, by shuffling them (<a href="https://github.com/r-dbi/DBItest/issues/138" class="external-link">#138</a>).</li>
<li>Explicitly specify default <code>row.names = FALSE</code> for <code>dbReadTable()</code> and <code>dbWriteTable()</code> (<a href="https://github.com/r-dbi/DBItest/issues/139" class="external-link">#139</a>).</li>
<li>Add specification for writing 64-bit values, backends must support roundtripping values returned from the database (<a href="https://github.com/r-dbi/DBItest/issues/146" class="external-link">#146</a>).</li>
<li>Add specification for the <code>params</code> argument to <code>dbGetQuery()</code>, <code>dbSendQuery()</code>, <code>dbExecute()</code> and <code>dbSendStatement()</code> (<a href="https://github.com/r-dbi/DBItest/issues/159" class="external-link">#159</a>).</li>
<li>Add test for <code>dbQuoteIdentifier()</code>: “The names of the input argument are preserved in the output” (r-lib/DBI#173).</li>
<li>Blob tests now also read and write zero bytes ().</li>
<li>Add string encoded in Latin-1 to the character tests.</li>
<li>Added test for <code>dbIsValid()</code> on stale connections.</li>
</ul></div>
<div class="section level3">
<h3 id="removed-checks-1-6-0">Removed checks<a class="anchor" aria-label="anchor" href="#removed-checks-1-6-0"></a></h3>
<ul><li>Don’t test selecting untyped <code>NULL</code> anymore.</li>
<li>Full interface compliance doesn’t require a method for <code>dbGetInfo(DBIDriver)</code> for now.</li>
<li>Remove <code>"cannot_forget_disconnect"</code> test that fails on R-devel (<a href="https://github.com/r-dbi/DBItest/issues/150" class="external-link">#150</a>).</li>
<li>Methods without <code>db</code> prefix are not checked for ellipsis in the signature anymore.</li>
<li>Don’t specify <code>Inf</code> and <code>NaN</code> for lack of consistent support across DBMS (<a href="https://github.com/r-dbi/DBItest/issues/142" class="external-link">#142</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="updatedcorrected-checks-1-6-0">Updated/corrected checks<a class="anchor" aria-label="anchor" href="#updatedcorrected-checks-1-6-0"></a></h3>
<ul><li>Fix query that is supposed to generate a syntax error.</li>
<li>Fix typo (<a href="https://github.com/r-dbi/DBItest/issues/147" class="external-link">#147</a>, <a href="https://github.com/jonmcalder" class="external-link">@jonmcalder</a>).</li>
<li>Implement <code>POSIXlt</code> bind test correctly.</li>
<li>Improve error detection for <code>dbBind()</code>.</li>
<li>Redesign tests for <code>dbBind()</code>, now queries of the form <code>SELECT CASE WHEN (? = ?) AND (? IS NULL) THEN 1.5 ELSE 2.5</code> are issued. The original tests were inappropriate for RMariaDB, because an untyped placeholder is returned as a blob.</li>
<li>Transaction tests now use <code>dbWriteTable()</code> instead of <code>dbCreateTable()</code>, because some DBMS don’t support transactions for DML.</li>
<li>Fix timestamp tests for RMariaDB.</li>
<li>Fix string constants.</li>
<li>The <code>"roundtrip_timestamp"</code> test now correctly handles timezone information. The output timezone is ignored.</li>
<li>Clear result in <code>spec_meta_get_info_result</code> (<a href="https://github.com/r-dbi/DBItest/issues/143" class="external-link">#143</a>).</li>
<li>Use named argument for <code>n</code> in <code>dbGetQuery()</code> call.</li>
<li>Minor fixes.</li>
</ul></div>
<div class="section level3">
<h3 id="tweaks-1-6-0">Tweaks<a class="anchor" aria-label="anchor" href="#tweaks-1-6-0"></a></h3>
<ul><li>New tweak <code>blob_cast</code> allows specifying a conversion function to the BLOB data type.</li>
<li>New <code>is_null_check</code> tweak that allows specifying a function that is used when checking values for <code>NULL</code>. Required for RPostgres.</li>
<li>New <code>list_temporary_tables</code> tweak that can be enabled independently of <code>temporary_tables</code> to indicate that the DBMS does not support listing temporary tables.</li>
</ul></div>
<div class="section level3">
<h3 id="infrastructure-1-6-0">Infrastructure<a class="anchor" aria-label="anchor" href="#infrastructure-1-6-0"></a></h3>
<ul><li>Allow running only a subset of tests in <code><a href="../reference/test_all.html">test_all()</a></code> by specifying an environment variable.</li>
<li>
<code><a href="../reference/test_all.html">test_all()</a></code> and <code><a href="../reference/test_all.html">test_some()</a></code> return <code>NULL</code> invisibly.</li>
</ul></div>
<div class="section level3">
<h3 id="internals-1-6-0">Internals<a class="anchor" aria-label="anchor" href="#internals-1-6-0"></a></h3>
<ul><li>Compatibility code if <code><a href="https://dbi.r-dbi.org/reference/dbQuoteLiteral.html" class="external-link">DBI::dbQuoteLiteral()</a></code> is unavailable.</li>
<li>New <code>trivial_query()</code> replaces many hard-coded queries and uses non-integer values for better compatibility with RMariaDB.</li>
<li>Convert factor to character for iris data (<a href="https://github.com/r-dbi/DBItest/issues/141" class="external-link">#141</a>).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.5-2" id="dbitest-15-2-2018-01-26">DBItest 1.5-2 (2018-01-26)<a class="anchor" aria-label="anchor" href="#dbitest-15-2-2018-01-26"></a></h2>
<ul><li>Fix test that fails with “noLD”.</li>
<li>Fix NOTEs on R-devel.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.5-1" id="dbitest-15-1-2017-12-10">DBItest 1.5-1 (2017-12-10)<a class="anchor" aria-label="anchor" href="#dbitest-15-1-2017-12-10"></a></h2>
<ul><li>Remove <code>"cannot_forget_disconnect"</code> test that fails on R-devel (<a href="https://github.com/r-dbi/DBItest/issues/150" class="external-link">#150</a>).</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.5" id="dbitest-15-2017-06-18">DBItest 1.5 (2017-06-18)<a class="anchor" aria-label="anchor" href="#dbitest-15-2017-06-18"></a></h2>
<p>Finalize specification. Most tests now come with a corresponding prose, only those where the behavior is not finally decided don’t have a prose version yet (<a href="https://github.com/r-dbi/DBItest/issues/88" class="external-link">#88</a>).</p>
<div class="section level3">
<h3 id="new-tests-1-5">New tests<a class="anchor" aria-label="anchor" href="#new-tests-1-5"></a></h3>
<ul><li>Test behavior of methods in presence of placeholders (<a href="https://github.com/r-dbi/DBItest/issues/120" class="external-link">#120</a>).</li>
<li>Test column name mismatch behavior for appending tables (<a href="https://github.com/r-dbi/DBItest/issues/93" class="external-link">#93</a>).</li>
<li>Test that <code>dbBind()</code> against factor works but raises a warning (<a href="https://github.com/r-dbi/DBItest/issues/91" class="external-link">#91</a>).</li>
<li>Test roundtrip of alternating empty and non-empty strings (<a href="https://github.com/r-dbi/DBItest/issues/42" class="external-link">#42</a>).</li>
<li>Test multiple columns of different types in one statement or table (<a href="https://github.com/r-dbi/DBItest/issues/35" class="external-link">#35</a>).</li>
<li>Test <code>field.types</code> argument to <code>dbWriteTable()</code> (<a href="https://github.com/r-dbi/DBItest/issues/12" class="external-link">#12</a>).</li>
<li>Added tests for invalid or closed connection argument to all methods that expect a connection as first argument (<a href="https://github.com/r-dbi/DBItest/issues/117" class="external-link">#117</a>).</li>
<li>Enabled test that tests a missing <code>dbDisconnect()</code>.</li>
<li>Add test for unambiguous escaping of identifiers (rstats-db/RSQLite#123).</li>
<li>Reenable tests for visibility (<a href="https://github.com/r-dbi/DBItest/issues/89" class="external-link">#89</a>).</li>
<li>Fix and specify 64-bit roundtrip test.</li>
<li>64-bit integers only need to be coercible to <code>numeric</code> and <code>character</code> (<a href="https://github.com/r-dbi/DBItest/issues/74" class="external-link">#74</a>).</li>
<li>Added roundtrip test for time values (<a href="https://github.com/r-dbi/DBItest/issues/14" class="external-link">#14</a>).</li>
<li>Added tweaks for handling date, time, timestamp, … (<a href="https://github.com/r-dbi/DBItest/issues/53" class="external-link">#53</a>, <a href="https://github.com/r-dbi/DBItest/issues/76" class="external-link">#76</a>).</li>
<li>Test that <code>dbFetch()</code> on update-only query returns warning (<a href="https://github.com/r-dbi/DBItest/issues/66" class="external-link">#66</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="adapted-tests-1-5">Adapted tests<a class="anchor" aria-label="anchor" href="#adapted-tests-1-5"></a></h3>
<ul><li>
<code>NULL</code> is a valid value for the <code>row.names</code> argument, same as <code>FALSE</code>.</li>
<li>A column named <code>row_names</code> receives no special handling (<a href="https://github.com/r-dbi/DBItest/issues/54" class="external-link">#54</a>).</li>
<li>A warning (not an error anymore) is expected when calling <code>dbDisconnect()</code> on a closed or invalid connection.</li>
<li>
<code>row.names = FALSE</code> is now the default for methods that read or write tables.</li>
<li>Add <code>NA</code> to beginning and end of columns in table roundtrip tests (<a href="https://github.com/r-dbi/DBItest/issues/24" class="external-link">#24</a>).</li>
<li>Stricter tests for confusion of named and unnamed SQL parameters and placeholders (<a href="https://github.com/r-dbi/DBItest/issues/107" class="external-link">#107</a>).</li>
<li>Also check names of all returned data frames.</li>
<li>The return value for all calls to <code>dbGetQuery()</code>, <code>dbFetch()</code>, and <code>dbReadTable()</code> is now checked for consistency (all columns have the same length, length matches number of rows) (<a href="https://github.com/r-dbi/DBItest/issues/126" class="external-link">#126</a>).</li>
<li>Removed stress tests that start a new session.</li>
<li>Allow <code>hms</code> (or other subclasses of <code>difftime</code>) to be returned as time class (<a href="https://github.com/r-dbi/DBItest/issues/135" class="external-link">#135</a>, <a href="https://github.com/jimhester" class="external-link">@jimhester</a>).</li>
<li>Test that dates are of type <code>numeric</code> (<a href="https://github.com/r-dbi/DBItest/issues/99" class="external-link">#99</a>, <a href="https://github.com/jimhester" class="external-link">@jimhester</a>).</li>
<li>Replace <code>POSIXlt</code> by <code>POSIXct</code> (<a href="https://github.com/r-dbi/DBItest/issues/100" class="external-link">#100</a>, <a href="https://github.com/jimhester" class="external-link">@jimhester</a>).</li>
<li>Use <code>"PST8PDT"</code> instead of <code>"PST"</code> as time zone (<a href="https://github.com/r-dbi/DBItest/issues/110" class="external-link">#110</a>, <a href="https://github.com/thrasibule" class="external-link">@thrasibule</a>).</li>
<li>Added tests for support of <code>blob</code> objects (input and output), but backends are not required to return <code>blob</code> objects (<a href="https://github.com/r-dbi/DBItest/issues/98" class="external-link">#98</a>).</li>
<li>The <code>logical_return</code>, <code>date_typed</code> and <code>timestamp_typed</code> tweaks are respected by the bind tests.</li>
<li>Fixed tests involving time comparison; now uses UTC timezone and compares against a <code>difftime</code>.</li>
<li>Tests for roundtrip of character values now includes tabs, in addition to many other special characters (<a href="https://github.com/r-dbi/DBItest/issues/85" class="external-link">#85</a>).</li>
<li>Make sure at least one table exists in the <code>dbListTables()</code> test.</li>
<li>Fix roundtrip tests for raw columns: now expecting <code>NULL</code> and not <code>NA</code> entries for SQL NULL values.</li>
<li>Fix <code>expect_equal_df()</code> for list columns.</li>
<li>Testing that a warning is given if the user forgets to call <code>dbDisconnect()</code> or <code>dbClearResult()</code> (<a href="https://github.com/r-dbi/DBItest/issues/103" class="external-link">#103</a>).</li>
<li>Numeric roundtrip accepts conversion of <code>NaN</code> to <code>NA</code> (<a href="https://github.com/r-dbi/DBItest/issues/79" class="external-link">#79</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="internal-1-5">Internal<a class="anchor" aria-label="anchor" href="#internal-1-5"></a></h3>
<ul><li>Fix R CMD check errors.</li>
<li>Internal consistency checks (<a href="https://github.com/r-dbi/DBItest/issues/114" class="external-link">#114</a>).</li>
<li>Skip patterns that don’t match any of the tests now raise a warning (<a href="https://github.com/r-dbi/DBItest/issues/84" class="external-link">#84</a>).</li>
<li>New <code><a href="../reference/test_all.html">test_some()</a></code> to test individual tests (<a href="https://github.com/r-dbi/DBItest/issues/136" class="external-link">#136</a>).</li>
<li>Use desc instead of devtools (<a href="https://github.com/r-dbi/DBItest/issues/40" class="external-link">#40</a>).</li>
<li>All unexpected warnings are now reported as test failures (<a href="https://github.com/r-dbi/DBItest/issues/113" class="external-link">#113</a>).</li>
<li>
<code>DBItest_tweaks</code> class gains a <code>$</code> method, accessing an undefined tweak now raises an error.</li>
<li>The arguments of the <code><a href="../reference/tweaks.html">tweaks()</a></code> function now have default values that further describe their intended usage.</li>
<li>New <code>with_closed_connection(ctx = ctx, )</code>, <code>with_invalid_connection(ctx = ctx, )</code>, <code>with_result()</code> and <code>with_remove_test_table()</code> helpers, and <code>expect_visible()</code>, <code>expect_inbisible_true()</code>, and <code>expect_equal_df()</code> expectations for more concise tests.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.4" id="dbitest-14-2016-12-02">DBItest 1.4 (2016-12-02)<a class="anchor" aria-label="anchor" href="#dbitest-14-2016-12-02"></a></h2>
<div class="section level3">
<h3 id="dbi-specification-1-4">DBI specification<a class="anchor" aria-label="anchor" href="#dbi-specification-1-4"></a></h3>
<ul><li>Use markdown in documentation.</li>
<li>Description of parametrized queries and statements (<a href="https://github.com/r-dbi/DBItest/issues/88" class="external-link">#88</a>).</li>
<li>New hidden <code>DBIspec-wip</code> page for work-in-progress documentation.</li>
<li>Get rid of “Format” and “Usage” sections, and aliases, in the specs.</li>
</ul></div>
<div class="section level3">
<h3 id="tests-1-4">Tests<a class="anchor" aria-label="anchor" href="#tests-1-4"></a></h3>
<ul><li>Not testing for presence of <code>max.connections</code> element in <code>dbGetInfo(Driver)</code> (rstats-db/DBI#56).</li>
<li>Test multi-row binding for queries and statements (<a href="https://github.com/r-dbi/DBItest/issues/96" class="external-link">#96</a>).</li>
<li>New <code>ellipsis</code> check that verifies that all implemented DBI methods contain <code>...</code> in their formals. This excludes <code>show()</code> and all methods defined in this or other packages.</li>
<li>Refactored <code>bind_</code> tests to use the new <code>parameter_pattern</code> tweak (<a href="https://github.com/r-dbi/DBItest/issues/95" class="external-link">#95</a>).</li>
<li>Rough draft of transaction tests (<a href="https://github.com/r-dbi/DBItest/issues/36" class="external-link">#36</a>).</li>
<li>New <code>fetch_zero_rows</code> test, split from <code>fetch_premature_close</code>.</li>
<li>The “compliance” test tests that the backend package exports exactly one subclass of each DBI virtual class.</li>
<li>Document and enhance test for <code>dbDataType("DBIDriver", "ANY")</code> (<a href="https://github.com/r-dbi/DBItest/issues/88" class="external-link">#88</a>).</li>
<li>Minor corrections for “bind” tests.</li>
</ul></div>
<div class="section level3">
<h3 id="internal-1-4">Internal<a class="anchor" aria-label="anchor" href="#internal-1-4"></a></h3>
<ul><li>Isolate stress tests from main test suite (<a href="https://github.com/r-dbi/DBItest/issues/92" class="external-link">#92</a>).</li>
<li>Refactor test specification in smaller modules, isolated from actual test execution (<a href="https://github.com/r-dbi/DBItest/issues/81" class="external-link">#81</a>). This breaks the documentation of the tests, which will be substituted by a DBI specification in prose.</li>
<li>Align description of binding with code.</li>
<li>Refactor tests for <code>dbBind()</code>, test is run by <code>BindTester</code> class, and behavior is specified by members and by instances of the new <code>BindTesterExtra</code> class.</li>
<li>The <code>skip</code> argument to the <code>test_()</code> functions is again evaluated with <code>perl = TRUE</code> to support negative lookaheads (<a href="https://github.com/r-dbi/DBItest/issues/33" class="external-link">#33</a>).</li>
<li>Use <code>dbSendStatement()</code> and <code>dbExecute()</code> where appropriate.</li>
<li>Avoid empty subsections in Rd documentation to satisfy <code>R CMD check</code> (<a href="https://github.com/r-dbi/DBItest/issues/81" class="external-link">#81</a>).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.3" id="dbitest-13-2016-07-07">DBItest 1.3 (2016-07-07)<a class="anchor" aria-label="anchor" href="#dbitest-13-2016-07-07"></a></h2>
<div class="section level3">
<h3 id="bug-fixes-1-3">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-1-3"></a></h3>
<ul><li>Fix <code>read_table</code> test when the backend actually returns the data in a different order.</li>
</ul></div>
<div class="section level3">
<h3 id="new-tests-1-3">New tests<a class="anchor" aria-label="anchor" href="#new-tests-1-3"></a></h3>
<ul><li>Test <code>dbDataType()</code> on connections (<a href="https://github.com/r-dbi/DBItest/issues/69" class="external-link">#69</a>, <a href="https://github.com/r-dbi/DBItest/issues/75" class="external-link">#75</a>, <a href="https://github.com/imanuelcostigan" class="external-link">@imanuelcostigan</a>).</li>
<li>Check returned strings for UTF-8 encoding (<a href="https://github.com/r-dbi/DBItest/issues/72" class="external-link">#72</a>).</li>
<li>Repeated <code>dbBind()</code> + <code>dbFetch()</code> on the same result set (<a href="https://github.com/r-dbi/DBItest/issues/51" class="external-link">#51</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="features-1-3">Features<a class="anchor" aria-label="anchor" href="#features-1-3"></a></h3>
<ul><li>
<code><a href="../reference/tweaks.html">tweaks()</a></code> gains an <code>...</code> as first argument to support future/deprecated tweaks (with a warning), and also to avoid unnamed arguments (<a href="https://github.com/r-dbi/DBItest/issues/83" class="external-link">#83</a>).</li>
<li>
<code>testthat</code> now shows a more accurate location for the source of errors, failures, and skips (<a href="https://github.com/r-dbi/DBItest/issues/78" class="external-link">#78</a>).</li>
<li>Aggregate skipped tests, only one <code>skip()</code> call per test function.</li>
<li>Indicate that some tests are optional in documentation (<a href="https://github.com/r-dbi/DBItest/issues/15" class="external-link">#15</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="internal-1-3">Internal<a class="anchor" aria-label="anchor" href="#internal-1-3"></a></h3>
<ul><li>New <code>constructor_relax_args</code> tweak, currently not queried.</li>
<li>The <code>ctx</code> argument is now explicit in the test functions.</li>
<li>Change underscores to dashes in file names.</li>
<li>Remove <code>testthat</code> compatibility hack.</li>
<li>New <code>all_have_utf8_or_ascii_encoding()</code> which vectorizes <code>has_utf8_or_ascii_encoding()</code>.</li>
<li>Test on AppVeyor (<a href="https://github.com/r-dbi/DBItest/issues/73" class="external-link">#73</a>).</li>
<li>Work around regression in R 3.3.0 (fix scheduled for R 3.3.1) which affected stress tests.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.2" id="dbitest-12-2016-05-21">DBItest 1.2 (2016-05-21)<a class="anchor" aria-label="anchor" href="#dbitest-12-2016-05-21"></a></h2>
<ul><li>Infrastructure
<ul><li>Support names for contexts (<a href="https://github.com/hoesler" class="external-link">@hoesler</a>, <a href="https://github.com/r-dbi/DBItest/issues/67" class="external-link">#67</a>).</li>
<li>The <code>skip</code> argument to the test functions is now treated as a Perl regular expression to allow negative lookahead. Use <code>skip = "(?!test_regex).*"</code> to choose a single test to run (<a href="https://github.com/r-dbi/DBItest/issues/33" class="external-link">#33</a>).</li>
<li>Added encoding arguments to non-ASCII string constants (<a href="https://github.com/r-dbi/DBItest/issues/60" class="external-link">#60</a>, <a href="https://github.com/hoesler" class="external-link">@hoesler</a>).</li>
</ul></li>
<li>Improve tests
<ul><li>
<code>simultaneous_connections</code> test always closes all connections on exit (<a href="https://github.com/hoesler" class="external-link">@hoesler</a>, <a href="https://github.com/r-dbi/DBItest/issues/68" class="external-link">#68</a>).</li>
<li>More generic compliance check (<a href="https://github.com/hoesler" class="external-link">@hoesler</a>, <a href="https://github.com/r-dbi/DBItest/issues/61" class="external-link">#61</a>).</li>
<li>Update documentation to reflect test condition (<a href="https://github.com/imanuelcostigan" class="external-link">@imanuelcostigan</a>, <a href="https://github.com/r-dbi/DBItest/issues/70" class="external-link">#70</a>).</li>
</ul></li>
<li>
<code>testthat</code> dependency
<ul><li>Import all of <code>testthat</code> to avoid <code>R CMD check</code> warnings.</li>
<li>Compatibility with dev version of <code>testthat</code> (<a href="https://github.com/r-dbi/DBItest/issues/62" class="external-link">#62</a>).</li>
</ul></li>
<li>Improve Travis builds
<ul><li>Use container-based builds on Travis.</li>
<li>Install <code>RPostgres</code> and <code>RMySQL</code> from <code>rstats-db</code>.</li>
<li>Install <code>DBI</code> and <code>testthat</code> from GitHub.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.1" id="version-11-2016-02-12">Version 1.1 (2016-02-12)<a class="anchor" aria-label="anchor" href="#version-11-2016-02-12"></a></h2>
<ul><li>New feature: tweaks
<ul><li>New argument <code>tweaks</code> to <code><a href="../reference/context.html">make_context()</a></code> (<a href="https://github.com/r-dbi/DBItest/issues/49" class="external-link">#49</a>).</li>
<li>New <code><a href="../reference/tweaks.html">tweaks()</a></code>, essentially constructs a named list of tweaks but with predefined and documented argument names.</li>
<li>
<code>constructor_name</code>, respected by the <code>constructor.*</code> tests.</li>
<li>
<code>strict_identifier</code>, if <code>TRUE</code> all identifier must be syntactic names even if quoted. The quoting test is now split, and a part is ignored conditional to this tweak. The <code>roundtrip_quotes</code> tests also respects this tweak.</li>
<li>
<code>omit_blob_tests</code> for DBMS that don’t have a BLOB data type.</li>
<li>
<code>current_needs_parens</code> – some SQL dialects (e.g., BigQuery) require parentheses for the functions <code>current_date</code>, <code>current_time</code> and <code>current_timestamp</code>.</li>
<li>
<code>union</code>, for specifying a nonstandard way of combining queries. All union queries now name each column in each subquery (required for <code>bigrquery</code>).</li>
</ul></li>
<li>New tests
<ul><li>
<code>dbGetInfo(Result)</code> (rstats-db/DBI#55).</li>
<li>
<code>dbListFields()</code> (<a href="https://github.com/r-dbi/DBItest/issues/26" class="external-link">#26</a>).</li>
<li>New <code>package_name</code> test in <code><a href="../reference/test_getting_started.html">test_getting_started()</a></code>.</li>
</ul></li>
<li>Improved tests
<ul><li>Stress test now installs package in temporary library (before loading <code>DBI</code>) using <code>R CMD INSTALL</code> before loading DBI (rstats-db/RSQLite#128, <a href="https://github.com/r-dbi/DBItest/issues/48" class="external-link">#48</a>).</li>
<li>Row count is now tested for equality but not identity, so that backends can return a numeric value &gt; 2^31 at their discretion.</li>
<li>Call <code>dbRemoveTable()</code> instead of issuing <code>DROP</code> requests, the latter might be unsupported.</li>
<li>Use subqueries in queries that use <code>WHERE</code>.</li>
<li>Test that <code>dbClearResult()</code> on a closed result set raises a warning.</li>
<li>Expect a warning instead of an error for double disconnect (<a href="https://github.com/r-dbi/DBItest/issues/50" class="external-link">#50</a>).</li>
<li>Move connection test that requires <code>dbFetch()</code> to <code><a href="../reference/test_result.html">test_result()</a></code>.</li>
<li>Split <code>can_connect_and_disconnect</code> test.</li>
<li>Expect <code>DBI</code> to be in <code>Imports</code>, not in <code>Depends</code>.</li>
</ul></li>
<li>Removed tests
<ul><li>Remove test for <code>dbGetException()</code> (rstats-db/DBI#51).</li>
</ul></li>
<li>Bug fixes
<ul><li>Fix broken tests for quoting.</li>
</ul></li>
<li>Self-testing
<ul><li>Test <code>RPostgres</code>, <code>RMySQL</code>, <code>RSQLite</code> and <code>RKazam</code> as part of the Travis-CI tests (<a href="https://github.com/r-dbi/DBItest/issues/52" class="external-link">#52</a>).</li>
<li>Travis CI now installs rstats-db/DBI, updated namespace imports (<code>dbiCheckCompliance()</code>, <code>dbListResults()</code>).</li>
<li>Use fork of <code>testthat</code>.</li>
</ul></li>
<li>Utilities
<ul><li>Return test results as named array of logical. Requires hadley/testthat#360, gracefully degrades with the CRAN version.</li>
</ul></li>
<li>Internal
<ul><li>Refactored the <code>get_info_()</code> tests to use a vector of names.</li>
<li>Use versioned dependency for DBI</li>
<li>Use unqualified calls to <code>dbBind()</code> again</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="1.0" id="version-10-2015-12-17">Version 1.0 (2015-12-17)<a class="anchor" aria-label="anchor" href="#version-10-2015-12-17"></a></h2>
<ul><li>CRAN release
<ul><li>Eliminate errors on win-builder</li>
<li>Satisfy R CMD check</li>
<li>Use LGPL-2 license</li>
<li>Add RStudio as copyright holder</li>
<li>Move <code>devtools</code> package from “Imports” to “Suggests”</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3" id="version-03-2015-11-15">Version 0.3 (2015-11-15)<a class="anchor" aria-label="anchor" href="#version-03-2015-11-15"></a></h2>
<ul><li>Feature-complete, ready for review</li>
<li>Tests from the proposal
<ul><li>Add missing methods to compliance check</li>
<li>Add simple read-only test (<a href="https://github.com/r-dbi/DBItest/issues/27" class="external-link">#27</a>)</li>
<li>Add stress tests for repeated load/unload (with and without connecting) in new R session (<a href="https://github.com/r-dbi/DBItest/issues/2" class="external-link">#2</a>),</li>
<li>Migrate all tests from existing backends (<a href="https://github.com/r-dbi/DBItest/issues/28" class="external-link">#28</a>)</li>
<li>Refactor <code>data_</code> tests to use a worker function <code>test_select()</code>
</li>
<li>Test tables with <code>NA</code> values above and below the non-<code>NA</code> value in <code>data_</code> tests</li>
<li>Test return values and error conditions for <code>dbBind()</code> and <code>dbClearResult()</code> (<a href="https://github.com/r-dbi/DBItest/issues/31" class="external-link">#31</a>)</li>
<li>Test vectorization of <code>dbQuoteString()</code> and <code>dbQuoteIdentifier()</code> (<a href="https://github.com/r-dbi/DBItest/issues/18" class="external-link">#18</a>)</li>
<li>Test that dates have <code>integer</code> as underlying data type (<a href="https://github.com/r-dbi/DBItest/issues/9" class="external-link">#9</a>)</li>
<li>Roundtrip tests sort output table to be sure (<a href="https://github.com/r-dbi/DBItest/issues/32" class="external-link">#32</a>)</li>
<li>Test <code>NA</code> to <code>NULL</code> conversion in <code>dbQuoteString()</code>, and false friends (<a href="https://github.com/r-dbi/DBItest/issues/23" class="external-link">#23</a>)</li>
<li>Enhance test for <code>dbQuoteIdentifier()</code> (<a href="https://github.com/r-dbi/DBItest/issues/30" class="external-link">#30</a>)</li>
</ul></li>
<li>Style
<ul><li>Avoid using <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame()</a></code> for date and time columns (<a href="https://github.com/r-dbi/DBItest/issues/10" class="external-link">#10</a>)</li>
<li>Use <code>expect_identical()</code> instead of <code>expect_equal()</code> in many places (<a href="https://github.com/r-dbi/DBItest/issues/13" class="external-link">#13</a>)</li>
<li>Catch all errors in <code><a href="https://rdrr.io/r/base/on.exit.html" class="external-link">on.exit()</a></code> handlers via <code>expect_error()</code> (<a href="https://github.com/r-dbi/DBItest/issues/20" class="external-link">#20</a>).</li>
<li>Combine “meta” tests into new <code><a href="../reference/test_meta.html">test_meta()</a></code> (<a href="https://github.com/r-dbi/DBItest/issues/37" class="external-link">#37</a>)</li>
</ul></li>
<li>Documentation
<ul><li>New “test” vignette (<a href="https://github.com/r-dbi/DBItest/issues/16" class="external-link">#16</a>)</li>
<li>Add package documentation (<a href="https://github.com/r-dbi/DBItest/issues/38" class="external-link">#38</a>)</li>
</ul></li>
<li>Same as 0.2-5</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2" id="version-02-2015-11-11">Version 0.2 (2015-11-11)<a class="anchor" aria-label="anchor" href="#version-02-2015-11-11"></a></h2>
<ul><li>Tests from the proposal
<ul><li>SQL</li>
<li>Metadata</li>
<li>DBI compliance (not testing read-only yet)</li>
</ul></li>
<li>Migrate most of the tests from RMySQL</li>
<li>Test improvements
<ul><li>Test BLOB data type (<a href="https://github.com/r-dbi/DBItest/issues/17" class="external-link">#17</a>)</li>
<li>Check actual availability of type returned by <code>dbDataType()</code> (<a href="https://github.com/r-dbi/DBItest/issues/19" class="external-link">#19</a>)</li>
</ul></li>
<li>Testing infrastructure
<ul><li>Disambiguate test names (<a href="https://github.com/r-dbi/DBItest/issues/21" class="external-link">#21</a>)</li>
<li>Use regex matching for deciding skipped tests, skip regex must match the entire test name</li>
</ul></li>
<li>Documentation
<ul><li>Document all tests in each test function using the new inline documentation feature of roxygen2</li>
<li>Improve documentation for <code><a href="../reference/test_all.html">test_all()</a></code>: Tests are listed in new “Tests” section</li>
<li>Add brief instructions to README</li>
</ul></li>
<li>Move repository to rstats-db namespace</li>
<li>Same as 0.1-6</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1" id="version-01-2015-10-11">Version 0.1 (2015-10-11)<a class="anchor" aria-label="anchor" href="#version-01-2015-10-11"></a></h2>
<ul><li>First GitHub release</li>
<li>Builds successfully on Travis</li>
<li>Testing infrastructure
<ul><li>Test context</li>
<li>Skipped tests call <code>skip()</code>
</li>
<li>Function <code><a href="../reference/test_all.html">test_all()</a></code> that runs all tests</li>
</ul></li>
<li>Tests from the proposal
<ul><li>Getting started</li>
<li>Driver</li>
<li>Connection</li>
<li>Results</li>
</ul></li>
<li>Code formatting is checked with lintr</li>
<li>Same as 0.0-5</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://krlmlr.info" class="external-link">Kirill Müller</a>, R Consortium.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.9000.</p>
</div>

    </footer></div>





  </body></html>


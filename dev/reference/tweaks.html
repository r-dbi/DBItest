<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Tweaks for DBI tests — tweaks • DBItest</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Tweaks for DBI tests — tweaks"><meta property="og:description" content="The tweaks are a way to control the behavior of certain tests. Currently,
you need to search the DBItest source code to understand which tests
are affected by which tweaks. This function is usually called to set the
tweaks argument in a make_context() call."><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DBItest</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">1.7.2.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/DBItest.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/r-dbi/DBItest/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Tweaks for DBI tests</h1>
    <small class="dont-index">Source: <a href="https://github.com/r-dbi/DBItest/blob/HEAD/R/tweaks.R" class="external-link"><code>R/tweaks.R</code></a></small>
    <div class="hidden name"><code>tweaks.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The tweaks are a way to control the behavior of certain tests. Currently,
you need to search the <span class="pkg">DBItest</span> source code to understand which tests
are affected by which tweaks. This function is usually called to set the
<code>tweaks</code> argument in a <code><a href="context.html">make_context()</a></code> call.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tweaks</span><span class="op">(</span></span>
<span>  <span class="va">...</span>,</span>
<span>  constructor_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  constructor_relax_args <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  strict_identifier <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  omit_blob_tests <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  current_needs_parens <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  union <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">x</span>, collapse <span class="op">=</span> <span class="st">" UNION "</span><span class="op">)</span>,</span>
<span>  placeholder_pattern <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  logical_return <span class="op">=</span> <span class="va">identity</span>,</span>
<span>  date_cast <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"date('"</span>, <span class="va">x</span>, <span class="st">"')"</span><span class="op">)</span>,</span>
<span>  time_cast <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"time('"</span>, <span class="va">x</span>, <span class="st">"')"</span><span class="op">)</span>,</span>
<span>  timestamp_cast <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"timestamp('"</span>, <span class="va">x</span>, <span class="st">"')"</span><span class="op">)</span>,</span>
<span>  blob_cast <span class="op">=</span> <span class="va">identity</span>,</span>
<span>  date_typed <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  time_typed <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  timestamp_typed <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  temporary_tables <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  list_temporary_tables <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  is_null_check <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"("</span>, <span class="va">x</span>, <span class="st">" IS NULL)"</span><span class="op">)</span>,</span>
<span>  create_table_as <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">table_name</span>, <span class="va">query</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"CREATE TABLE "</span>, <span class="va">table_name</span>,</span>
<span>    <span class="st">" AS "</span>, <span class="va">query</span><span class="op">)</span>,</span>
<span>  dbitest_version <span class="op">=</span> <span class="st">"1.7.1"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>...</dt>
<dd><p><code>[any]</code><br>
Unknown tweaks are accepted, with a warning.  The ellipsis
also makes sure that you only can pass named arguments.</p></dd>


<dt>constructor_name</dt>
<dd><p><code>[character(1)]</code><br>
Name of the function that constructs the <code>Driver</code> object.</p></dd>


<dt>constructor_relax_args</dt>
<dd><p><code>[logical(1)]</code><br>
If <code>TRUE</code>, allow a driver constructor with default values for all
arguments; otherwise, require a constructor with empty argument list
(default).</p></dd>


<dt>strict_identifier</dt>
<dd><p><code>[logical(1)]</code><br>
Set to <code>TRUE</code> if the DBMS does not support arbitrarily-named
identifiers even when quoting is used.</p></dd>


<dt>omit_blob_tests</dt>
<dd><p><code>[logical(1)]</code><br>
Set to <code>TRUE</code> if the DBMS does not support a <code>BLOB</code> data
type.</p></dd>


<dt>current_needs_parens</dt>
<dd><p><code>[logical(1)]</code><br>
Set to <code>TRUE</code> if the SQL functions <code>current_date</code>,
<code>current_time</code>, and <code>current_timestamp</code> require parentheses.</p></dd>


<dt>union</dt>
<dd><p><code>[function(character)]</code><br>
Function that combines several subqueries into one so that the
resulting query returns the concatenated results of the subqueries</p></dd>


<dt>placeholder_pattern</dt>
<dd><p><code>[character]</code><br>
A pattern for placeholders used in <code>dbBind()</code>, e.g.,
<code>"?"</code>, <code>"$1"</code>, or <code>":name"</code>. See
<code><a href="make_placeholder_fun.html">make_placeholder_fun()</a></code> for details.</p></dd>


<dt>logical_return</dt>
<dd><p><code>[function(logical)]</code><br>
A vectorized function that converts logical values to the data type
returned by the DBI backend.</p></dd>


<dt>date_cast</dt>
<dd><p><code>[function(character)]</code><br>
A vectorized function that creates an SQL expression for coercing a
string to a date value.</p></dd>


<dt>time_cast</dt>
<dd><p><code>[function(character)]</code><br>
A vectorized function that creates an SQL expression for coercing a
string to a time value.</p></dd>


<dt>timestamp_cast</dt>
<dd><p><code>[function(character)]</code><br>
A vectorized function that creates an SQL expression for coercing a
string to a timestamp value.</p></dd>


<dt>blob_cast</dt>
<dd><p><code>[function(character)]</code><br>
A vectorized function that creates an SQL expression for coercing a
string to a blob value.</p></dd>


<dt>date_typed</dt>
<dd><p><code>[logical(1L)]</code><br>
Set to <code>FALSE</code> if the DBMS doesn't support a dedicated type for dates.</p></dd>


<dt>time_typed</dt>
<dd><p><code>[logical(1L)]</code><br>
Set to <code>FALSE</code> if the DBMS doesn't support a dedicated type for times.</p></dd>


<dt>timestamp_typed</dt>
<dd><p><code>[logical(1L)]</code><br>
Set to <code>FALSE</code> if the DBMS doesn't support a dedicated type for
timestamps.</p></dd>


<dt>temporary_tables</dt>
<dd><p><code>[logical(1L)]</code><br>
Set to <code>FALSE</code> if the DBMS doesn't support temporary tables.</p></dd>


<dt>list_temporary_tables</dt>
<dd><p><code>[logical(1L)]</code><br>
Set to <code>FALSE</code> if the DBMS doesn't support listing temporary tables.</p></dd>


<dt>is_null_check</dt>
<dd><p><code>[function(character)]</code><br>
A vectorized function that creates an SQL expression for checking if a
value is <code>NULL</code>.</p></dd>


<dt>create_table_as</dt>
<dd><p><code>[function(character(1), character(1))]</code><br>
A function that creates an SQL expression for creating a table
from an SQL expression.</p></dd>


<dt>dbitest_version</dt>
<dd><p><code>[character(1)]</code><br>
Compatible DBItest version, default: "1.7.1".</p></dd>

</dl></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="context.html">make_context</a></span><span class="op">(</span><span class="va">...</span>, tweaks <span class="op">=</span> <span class="fu">tweaks</span><span class="op">(</span>strict_identifier <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://krlmlr.info" class="external-link">Kirill Müller</a>, R Consortium.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.9000.</p>
</div>

      </footer></div>

  


  

  </body></html>

